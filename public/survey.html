<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">

    <div class="row">
      <div class="col-lg-12">

        <br>

        <!-- Survey Page -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">About You</h4>
          </div>
          <div class="panel-body">

            <form role="form">

              <div class="form-group">
                <label for="survey-name">Name (Required)</label>
                <input type="text" class="form-control" id="survey-name">
              </div>

              <div class="form-group">
                <label for="survey-image">Link to Photo Image (Required)</label>
                <input type="text" class="form-control" id="survey-image">
              </div>

              <hr>

<!-- ///////////////////////////////////////////////////////////////////// -->

              <div class="form-group">
                <p><strong>Question 1</strong></p>
                <p>Your mind is always buzzing with unexplored ideas and plans.</p>
                <label for="sel1">Select an Option:</label>
                <select class="form-control" id="sel1">
                  <option>1 (Strongly Disagree)</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5 (Strongly Agree)</option>
                </select>
              </div>

              <div class="form-group">
                <p><strong>Question 2</strong></p>
                <p>Generally speaking, you rely more on your experience than your imagination.</p>
                <label for="sel2">Select an Option:</label>
                <select class="form-control" id="sel2">
                  <option>1 (Strongly Disagree)</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5 (Strongly Agree)</option>
                </select>
              </div>

              <div class="form-group">
                <p><strong>Question 3</strong></p>
                <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
                <label for="sel3">Select an Option:</label>
                <select class="form-control" id="sel3">
                  <option>1 (Strongly Disagree)</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5 (Strongly Agree)</option>
                </select>
              </div>

              <div class="form-group">
                <p><strong>Question 4</strong></p>
                <p>You rarely do something just out of sheer curiosity.</p>
                <label for="sel4">Select an Option:</label>
                <select class="form-control" id="sel4">
                  <option>1 (Strongly Disagree)</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5 (Strongly Agree)</option>
                </select>
              </div>

              <div class="form-group">
                <p><strong>Question 5</strong></p>
                <p>People can rarely upset you.</p>
                <label for="sel5">Select an Option:</label>
                <select class="form-control" id="sel5">
                  <option>1 (Strongly Disagree)</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5 (Strongly Agree)</option>
                </select>
              </div>

<!-- ///////////////////////////////////////////////////////////////////// -->
              <hr>

              <button type="submit" class="btn btn-primary submit">Submit</button>
            </form>

          </div>
        </div>

      </div>
    </div>


    <footer class="footer">
      <div class="container">
        <p><a href="">API placeholder link</a> | <a href="">GitHub Placeholder</a></p>
      </div>
    </footer>

  </div>

</body>
</html>


<script type="text/javascript">

  $(".submit").on("click", function(event){
    event.preventDefault();

    var newUser = {
      userName: $("#survey-name").val().trim(),
      userImage: $("#survey-image").val().trim(),
      userScores: [
        parseInt($("#sel1").val().trim()), parseInt($("#sel2").val().trim()), parseInt($("#sel3").val().trim()), parseInt($("#sel4").val().trim()), parseInt($("#sel5").val().trim())
      ]
    };

    console.log(newUser);

    // POST
    $.post("/api/friends", newUser, function(data){
      console.log("inside api/friends post");
       if(data) {
        alert("user added!");
        console.log("inside if data")
       }
       else {
        alert("hmm. something went wrong.");
       }
    });
  });


</script>
